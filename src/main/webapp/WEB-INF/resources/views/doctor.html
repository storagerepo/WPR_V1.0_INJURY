<script src="resources/scripts/controllers/Doctors.js"></script>
<div class="row">
    <div class="col-lg-12">
        <a ui-sref="dashboard.add-doctor" class="btn-sm btn-primary pull-right margin-top-40" ng-show="{{isAdmin==1}}">Add Doctor</a>
        <h2 class="page-header">Doctors</h2>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
<div flash-message="2000" class="col-md-5 pull-right"></div>
    <div class="col-lg-12">           
    
            <!-- /.panel-heading -->
            <div class="col-md-12">
                <div class="dataTable_wrapper">
                    <table class="table table-hover" id="dataTables-example">
                     
                          <thead>
	        <tr>
	            	 <th  style="width:100px!important;" ng-mousedown="sort('doctorName')">Name   <span class="glyphicon sort-icon" ng-show="sortKey=='doctorName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
	            	 <th style="width:100px!important;" ng-mousedown="sort('emailId')">Email Id <span class="glyphicon sort-icon" ng-show="sortKey=='emailId'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>  </th>
         			 <th style="width:100px!important;" ng-mousedown="sort('contactNumber')">Contact Number  <span class="glyphicon sort-icon" ng-show="sortKey=='contactNumber'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>  </th>
            
             	 <th style="width:100px!important;" ng-mousedown="sort('specialistIn')">Specialist In   <span class="glyphicon sort-icon" ng-show="sortKey=='specialistIn'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>  </th>
            	<th style="width:100px!important;" ng-mousedown="sort('clinicName')">Clinic Name <span class="glyphicon sort-icon" ng-show="sortKey=='clinicName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>  </th>
              	
                              <th width="120px!important">Action</th></tr>

 <tr>    
 <th>  <input type="text"  class="form-control"  ng-model="search.doctorName" placeholder="Search by Name">
           </th>
    	 <th>  <input type="text"  class="form-control"  ng-model="search.emailId" placeholder="Search by Email Id">
           </th>
         	<th>  <input type="text"  class="form-control"  ng-model="search.contactNumber" placeholder="Search by Contact Number">
           </th>
            <th>  <input type="text"  class="form-control"  ng-model="search.specialistIn" placeholder="Search by Specialist In">
           </th>
           <th>  <input type="text"  class="form-control"  ng-model="search.clinicName" placeholder="Search by Clinic Name">
           </th>          
           <th></th>
           </tr>
            </thead>
            
          
                         <tbody dir-paginate="doctor in doctors | filter:search | orderBy:sortKey:reverse|itemsPerPage:20 " >
	<tr>
	
	<td><a href="" ng-cloak ng-click="viewDoctors(doctor.id)">{{doctor.doctorName}}</a></td>
	<td ng-cloak>{{doctor.emailId}}</td>
<td ng-cloak>{{doctor.contactNumber}}</td>
		<td ng-cloak>{{doctor.specialistIn}}</td>
		<td>{{doctor.clinicName}}</td>			
                                   <td >
                                   <a href="" ng-cloak ng-click="viewDoctors(doctor.id)" class="btn btn-xs btn-primary hint--top" data-hint="View Doctor"><i
								class="glyphicon glyphicon-eye-open"></i>
						</a>
                                   <a href="#/dashboard/EditDoctor/{{doctor.id}}" ng-cloak data-hint="Edit Doctor" class="btn btn-xs btn-warning hint--top" ng-show="{{isAdmin==1}}"><i class="glyphicon glyphicon-edit"></i></a>
	<a href="#" ui-sref="dashboard.doctor" ng-mousedown="deleteDoctor(doctor.id)" ng-cloak data-hint="Delete Doctor" class="btn btn-xs btn-danger hint--top" ng-show="{{isAdmin==1}}"><i class="glyphicon glyphicon-trash"></i></a>
	</td></tr>
</tbody>

  
<tbody ng-show="doctors.length==0">
				<tr>
				<td colspan="5" align="center">No Record Found</td>
				</tr>
				</tbody>
				
				
              </table>
              <dir-pagination-controls max-size="5" direction-links="true" boundary-links="true" >
    					</dir-pagination-controls>   
                </div>
            </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>



<!-- Doctors View  -->
      <div class="modal fade" id="myModall" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content ">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Doctor Details</h4>
      </div>
      <div class="modal-body">
	<table class="table table-striped table-bordered" >
				<tr>
				<td class="col-md-1"><b>Clinic Name</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.clinicName.length==0">{{doctorDetails.clinicName}}</td>
						<td class="col-md-3" ng-show="doctorDetails.clinicName.length==0">-</td>
			
				</tr>
				<tr>
				<td class="col-md-1"><b>Doctor Name</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.doctorName.length==0">{{doctorDetails.doctorName}}</td>
						<td class="col-md-3" ng-show="doctorDetails.doctorName.length==0">-</td>
			
				</tr>
				<tr>
				<td class="col-md-1"><b>Email Id</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.emailId.length==0">{{doctorDetails.emailId}}</td>
						<td class="col-md-3" ng-show="doctorDetails.emailId.length==0">-</td>
				</tr>
				
	

<tr>
<td class="col-md-1"><b>Contact Number</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.contactNumber.length==0">{{doctorDetails.contactNumber}}</td>
						<td class="col-md-3" ng-show="doctorDetails.contactNumber.length==0">-</td>
			
	</tr>
	<tr>
	<td class="col-md-1"><b>Specialist In</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.specialistIn.length==0">{{doctorDetails.specialistIn}}</td>
						<td class="col-md-3" ng-show="doctorDetails.specialistIn.length==0">-</td>
	</tr>
	<tr>
	<td class="col-md-1"><b>Notes</b></td>
						<td class="col-md-3 wrap" ng-hide="doctorDetails.notes.length==0" colspan="3">{{doctorDetails.notes}}</td>
						<td class="col-md-3 wrap" ng-show="doctorDetails.notes.length==0" colspan="3">-</td>	
	</tr>				
			</table>
     
      </div>
     
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
         </div>
    </div>
  </div>
</div>
<!--  Delete Doctor Modal -->
<div class="modal fade" id="deleteDoctorModal" role="dialog">
    <div class="modal-dialog">    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Confirmation</h4>
        </div>
        <div class="modal-body">Some patients are assigned to this doctor. Do you still want to delete?
              
        </div>
        <div class="modal-footer" >
         <button type="close" class="btn btn-danger" data-dismiss="modal">No</button>
             <a type="submit" class="btn btn-success"  data-dismiss="modal" ng-click="deleteDoctorFromPatients()">Yes</a>
        </div>
      </div>
      
    </div>
 </div>
 <script>
$(function(){
	$("html,body").scrollTop(0);
});
</script>