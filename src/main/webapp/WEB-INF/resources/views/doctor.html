<script src="resources/scripts/controllers/Doctors.js"></script>
<div class="row">
    <div class="col-lg-12">
        <a ui-sref="dashboard.add-doctor" class="btn-sm btn-primary pull-right margin-top-40" ng-show="isAdmin">Add Doctor</a>
        <h2 class="page-header">Doctors</h2>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
<errordisplay message="errorMessage" error="isError" success="isSuccess"></errordisplay>
    <div class="col-lg-12">           
    
            <!-- /.panel-heading -->
            <div class="col-md-12">
                <div class="dataTable_wrapper">
                    <table class="table table-hover" id="dataTables-example">
                     
                          <thead>
	        <tr>
                <th  style="width:100px!important;" ng-mousedown="sort('doctorName')">Name   <span class="glyphicon sort-icon" ng-show="sortKey=='doctorName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
               
            	 	 <th style="width:100px!important;" ng-mousedown="sort('address')">Address   <span class="glyphicon sort-icon" ng-show="sortKey=='address'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>  </th>
            
             	 <th style="width:100px!important;" ng-mousedown="sort('city')">City   <span class="glyphicon sort-icon" ng-show="sortKey=='city'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>  </th>
            
              	
                	 <th style="width:100px!important;" ng-mousedown="sort('state')">State <span class="glyphicon sort-icon" ng-show="sortKey=='state'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>  </th>
            <th style="width:80px!important;" ng-mousedown="sort('county')">County <span class="glyphicon sort-icon" ng-show="sortKey=='county'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>  </th>
                   	 <th style="width:80px!important;text-align:center;" colspan="2">Office Hours</th>
             <th width="120px!important">Action</th></tr>
	           <tr>
	           <th colspan="5"></th>
	           <th style="width:80px!important;" ng-mousedown="sort('officeHoursFromTime')">&nbsp;Start Time<span class="glyphicon sort-icon" ng-show="sortKey=='officeHoursFromTime'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
	           <th style="width:100px!important;" ng-mousedown="sort('officeHoursToTime')">|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End Time<span class="glyphicon sort-icon" ng-show="sortKey=='officeHoursToTime'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
	           <th ></th>
	           </tr>
 <tr>    
            <th>  <input type="text"  class="form-control"  ng-model="search.doctorName" placeholder="Search by Name">
           </th>
            <th>  <input type="text"  class="form-control"  ng-model="search.address" placeholder="Search by Address">
           </th>
            <th>  <input type="text"  class="form-control"  ng-model="search.city" placeholder="Search by City">
           </th>
             <th>  <input type="text"  class="form-control"  ng-model="search.state" placeholder="Search by State">
           </th>
           <th>  <input type="text"  class="form-control"  ng-model="search.county" placeholder="Search by County"></th>
             <th>  <input type="text"  class="form-control"  ng-model="search.officeHoursFromTime" placeholder="Search by Office Hours From Time"></label>
           </th>
 <th>  <input type="text"  class="form-control"  ng-model="search.officeHoursToTime" placeholder="Search by Office Hours To Time">
           </th>
            
           <th></th>
           </tr>
            </thead>
            
          
                         <tbody dir-paginate="doctor in doctors | filter:search | orderBy:sortKey:reverse|itemsPerPage:8 " >
	<tr>
	
		
		<td><a href="" ng-click="viewDoctors(doctor.id)">{{doctor.doctorName}}</td>
<td>{{doctor.address}}</td>
		<td>{{doctor.city}}</td>
			<td>{{doctor.state}}</td>
			<td>{{doctor.county}}</td>
		<td>{{doctor.officeHoursFromTime}}</td>
<td>{{doctor.officeHoursToTime}}</td>

                                   <td >
                                   <a href="" ng-click="viewDoctors(doctor.id)" class="btn btn-xs btn-primary hint--top" data-hint="View Doctor"><i
								class="glyphicon glyphicon-eye-open"></i>
						</a>
                                   <a href="#/dashboard/EditDoctor/{{doctor.id}}" data-hint="Edit Doctor" class="btn btn-xs btn-warning hint--top" ng-show="isAdmin"><i class="glyphicon glyphicon-edit"></i></a>
	<a href="#" ui-sref="dashboard.doctor" ng-mousedown="deleteDoctor(doctor.id)" data-hint="Delete Doctor" class="btn btn-xs btn-danger hint--top" ng-show="isAdmin"><i class="glyphicon glyphicon-trash"></i></a>
	</td></tr>
</tbody>

  
<tbody ng-show="doctors.length==0">
				<tr>
				<td colspan="5" align="center">No Record Found</td>
				</tr>
				</tbody>
				
				
              </table>
              <dir-pagination-controls max-size="5" direction-links="true" boundary-links="true" >
    					</dir-pagination-controls>   
                </div>
            </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>



<!-- Doctors View  -->
      <div class="modal fade" id="myModall" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content ">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Doctor Details</h4>
      </div>
      <div class="modal-body">
	<table class="table table-striped table-bordered" >
			<tr>
					
						<td class="col-md-3" ><b>Clinic Name</b></td>
					<td class="col-md-3" ng-hide="doctorDetails.clinicName.length==0">{{doctorDetails.clinicName}}</td>
						<td class="col-md-3" ng-show="doctorDetails.clinicName.length==0">-</td>
					
					<td class="col-md-3"><b>Zip</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.zip.length==0">{{doctorDetails.zip}}</td>
						<td class="col-md-3" ng-show="doctorDetails.zip.length==0">-</td>
						
					
						
						
			</tr>
			
				<tr>
				<td class="col-md-3"><b>Doctor Name</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.doctorName.length==0">{{doctorDetails.doctorName}}</td>
						<td class="col-md-3" ng-show="doctorDetails.doctorName.length==0">-</td>
			
			<td class="col-md-3"><b>Office Number</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.officeNumber.length==0">{{doctorDetails.officeNumber}}</td>
						<td class="col-md-3" ng-show="doctorDetails.officeNumber.length==0">-</td>
						
						
						
				</tr>
				<tr>
				<td class="col-md-3"><b>Address</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.address.length==0">{{doctorDetails.address}}</td>
						<td class="col-md-3" ng-show="doctorDetails.address.length==0">-</td>
			
			
			<td class="col-md-3"><b>Fax Number</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.faxNumber.length==0">{{doctorDetails.faxNumber}}</td>
						<td class="col-md-3" ng-show="doctorDetails.faxNumber.length==0">-</td>
						
			
				</tr>
				<tr>
				<td class="col-md-3"><b>City</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.city.length==0">{{doctorDetails.city}}</td>
						<td class="col-md-3" ng-show="doctorDetails.city.length==0">-</td>
			
			<td class="col-md-3"><b>Working Days</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.workingDays.length==0">{{doctorDetails.workingDays}}</td>
						<td class="col-md-3" ng-show="doctorDetails.workingDays.length==0">-</td>
									
						
						
				</tr>
				<tr>
				<td class="col-md-3"><b>Country</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.country.length==0">{{doctorDetails.country}}</td>
						<td class="col-md-3" ng-show="doctorDetails.country.length==0">-</td>
			
			
					
					<td class="col-md-3"><b>Office Hours Start Time</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.officeHoursFromTime.length==0">{{doctorDetails.officeHoursFromTime}}</td>
						<td class="col-md-3" ng-show="doctorDetails.officeHoursFromTime.length==0">-</td>
			
			
					
							
				</tr>
				<tr>
				<td class="col-md-3"><b>State</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.state.length==0">{{doctorDetails.state}}</td>
						<td class="col-md-3" ng-show="doctorDetails.state.length==0">-</td>
			
					<td class="col-md-3"><b>Office Hours End Time</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.officeHoursToTime.length==0">{{doctorDetails.officeHoursToTime}}</td>
						<td class="col-md-3" ng-show="doctorDetails.officeHoursToTime.length==0">-</td>
					
								
				</tr>
				<tr>
				<td class="col-md-3"><b>County</b></td>
					
						<td class="col-md-3" ng-hide="doctorDetails.county.length==0">{{doctorDetails.county}}</td>
						<td class="col-md-3" ng-show="doctorDetails.county.length==0">-</td>
					
					<td colspan="2"></td>
						
				</tr>
	<tr>
<td class="col-md-3"><b>Direction</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.direction.length==0" colspan="3">{{doctorDetails.direction}}</td>
						<td class="col-md-3" ng-show="doctorDetails.direction.length==0" colspan="3">-</td>
				
</tr>


<tr>
<td class="col-md-3"><b>Notes</b></td>
						<td class="col-md-3" ng-hide="doctorDetails.notes.length==0" colspan="3">{{doctorDetails.notes}}</td>
						<td class="col-md-3" ng-show="doctorDetails.notes.length==0" colspan="3">-</td>
	</tr>					
			</table>
     
      </div>
     
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
         </div>
    </div>
  </div>
</div>
<!--  Delete Doctor Modal -->
<div class="modal fade" id="deleteDoctorModal" role="dialog">
    <div class="modal-dialog">    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Confirmation</h4>
        </div>
        <div class="modal-body">Some patients are assigned to this doctor. Do you still want to delete?
              
        </div>
        <div class="modal-footer" >
         <button type="close" class="btn btn-danger" data-dismiss="modal">No</button>
             <a type="submit" class="btn btn-success"  data-dismiss="modal" ng-click="deleteDoctorFromPatients()">Yes</a>
        </div>
      </div>
      
    </div>
 </div>