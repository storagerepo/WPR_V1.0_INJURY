<link rel="stylesheet" href="resources/components/datetime/datetimepicker.css"></link>
            <script src="resources/components/datetime/moment.js"></script>
             <script src="resources/components/datetime/datetimepicker.js"></script>
<div class="row">
    <div class="col-lg-12">
        <h2 class="page-header">Appointment</h2>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
    <div class="col-lg-12">           
            <!-- /.panel-heading -->
            <div class="col-md-2">
            Select Year :
            <div class='input-group'><input type="text"  class="form-control"  ng-model="searchYear" placeholder="Search by Date" id="yearpicker" ng-change="getByDates()"/><span class="input-group-addon white-color-bg"> <span
																class="glyphicon glyphicon-calendar"></span></span></div>
            </div>
            <div class="col-md-3">
         Select Month :
         <!-- 
         <div class='input-group'><input type="text"  class="form-control"  ng-model="searchDate" placeholder="Search by Date" id="monthpicker" ng-change="getByDates()"/><span class="input-group-addon white-color-bg"> <span
																class="glyphicon glyphicon-calendar"></span></span></div> -->
       <select class="form-control" name="month" ng-model="searchMonth" ng-change="getByDates()">
         <option value="">--Select Month--</option>
		<option value="1">January</option>
		<option value="2">February</option>
		<option value="3">March</option>
		<option value="4">April</option>
		<option value="5">May</option>
		<option value="6">June</option>
		<option value="7">July</option>
		<option value="8">August</option>
		<option value="9">September</option>
		<option value="10">October</option>
		<option value="11">November</option>
		<option value="12">December</option>
         </select>
         <br/>
        </div>
       <div class="col-md-4 pull-right">
<label>Number of Records</label>
	<select
		class="form-control" ng-model="noOfRows" name="noOfRows"
		id="noOfRows">
		<option value="10">Show 10 Per Page</option>
		<option value="25">Show 25 Per Page</option>
		<option value="50">Show 50 Per Page</option>
		<option value="100">Show 100 Per Page</option>
		<option value="{{appointments.length}}">Show All</option>
	</select> 
</div>
                  <table class="table table-hover" id="dataTables-example">
                     
                          <thead>
	        <tr>
						
                <th ng-mousedown="sort('scheduledDate')" class="col-md-2">Date <span class="glyphicon sort-icon" ng-show="sortKey=='scheduledDate'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
               <th ng-mousedown="sort('patientName')" class="col-md-3">Patient Name   <span class="glyphicon sort-icon" ng-show="sortKey=='patientName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
            	 	 <th ng-mousedown="sort('notes')" class="col-md-3">Notes   <span class="glyphicon sort-icon" ng-show="sortKey=='notes'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>  </th>
            
             	 <th ng-mousedown="sort('status')" class="col-md-2">Status   <span class="glyphicon sort-icon" ng-show="sortKey=='status'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>  </th>
            
              	<th class="col-md-3">Action</th>
                	 <tr>    
            <th> <div class='input-group'><input type="text"  class="form-control"  ng-model="search.scheduledDate" placeholder="Search by Date" id="datetimepicker8"/><span class="input-group-addon white-color-bg"> <span
																class="glyphicon glyphicon-calendar"></span></span></div>
															
           </th>
           	<th>  <input type="text"  class="form-control"  ng-model="search.patientName" placeholder="Search by Patient Name"/>
           </th>		
            <th>  <input type="text"  class="form-control"  ng-model="search.notes" placeholder="Search by Notes"/>
           </th>
            <th>  <input type="text"  class="form-control"  ng-model="search.status" placeholder="Search by Status"/>
           </th>
           <th></th>
             </tr>
            </thead>
            
           	 <tbody dir-paginate="appointment in appointments | filter:search | orderBy:sortKey:reverse|itemsPerPage:noOfRows" >
	<tr>
		
		<td ng-cloak>{{appointment.scheduledDate}}</td>
		<td ng-cloak>{{appointment.patientName}}</td>
<td ng-cloak class="col-md-4 wrap">{{appointment.notes}}</td>
		 	
  <td ng-cloak>{{appointment.status}}</td><td>
  <a ng-cloak ng-click="viewPatients(appointment.patientId)" class="btn btn-xs btn-primary"><i
								class="glyphicon glyphicon-eye-open"></i>&nbsp; View patients details
						
</a></td>
		 
		</tr>
</tbody>

<tbody ng-show="appointments.length==0">
				<tr>
				<td colspan="5" align="center">No Record Found</td>
				</tr>
				</tbody>

              </table>
              <dir-pagination-controls max-size="2" direction-links="true" boundary-links="true" >
    					</dir-pagination-controls>
            </div>
        <!-- /.panel -->
    </div>
  </div>
    <!-- /.col-lg-12 -->
    
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content ">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Patient Details</h4>
      </div>
      <div class="modal-body">
	<table class="table table-striped table-bordered">
					<tr>
						<td class="col-md-3"><b>Name</b></td>
						<td class="col-md-3">{{patients.name}}</td>
						<td class="col-md-3"><b>Time of Crash</b></td>
						<td class="col-md-3">{{patients.timeOfCrash}}</td>
						</tr>
						<tr>
						<td class="col-md-3"><b>Date Of Birth</b></td>
						<td class="col-md-3">{{patients.dateOfBirth}}</td>
						<td class="col-md-3"><b>Gender</b></td>
						<td class="col-md-3">{{patients.gender}}</td>
						</tr>
						<tr>
						<td class="col-md-3"><b>Phone Number</b></td>
						<td class="col-md-3">{{patients.phoneNumber}}</td>
						<td class="col-md-3"><b>Injuries</b></td>
						<td class="col-md-8">{{patients.injuries}}</td>
						</tr>
						<tr>
						<td class="col-md-3"><b>Address</b></td>
						<td class="col-md-3">{{patients.address}}</td>
						<td class="col-md-3"><b>EMS Agency</b></td>
						<td class="col-md-3">{{patients.emsAgency}}</td>
						</tr>
						<tr>
						<td class="col-md-3"><b>Local Report Number</b></td>
						<td class="col-md-3">{{patients.localReportNumber}}</td>
						<td class="col-md-3"><b>Medical Facility</b></td>
						<td class="col-md-3">{{patients.medicalFacility}}</td>
						</tr>
						<tr>
						<td class="col-md-3"><b>Crash Severity</b></td>
						<td class="col-md-3">{{patients.crashSeverity}}</td>
						<td class="col-md-3"><b>Report Agency Name</b></td>
						<td class="col-md-3">{{patients.reportingAgencyName}}</td>
						</tr>
						<tr>
						<td class="col-md-3"><b>Number of Units</b></td>
						<td class="col-md-3">{{patients.numberOfUnits}}</td>
						<td class="col-md-3"><b>Units in Error</b></td>
						<td class="col-md-3">{{patients.unitInError}}</td>
						</tr>
						<tr>
						<td class="col-md-3"><b>County</b></td>
						<td class="col-md-3">{{patients.country}}</td>
						<td class="col-md-3"><b>City Village Township</b></td>
						<td class="col-md-3">{{patients.cityVillageTownship}}</td>
						</tr>
						<tr>
						<td class="col-md-3"><b>Crash Date</b></td>
						<td class="col-md-3">{{patients.crashDate}}</td>
						<td class="col-md-3"><b>Caller Name</b></td>
						<td class="col-md-3">{{patients.callerName}}</td>
						</tr>
						<tr>
						<td class="col-md-3"><b>Clinic Name</b></td>
						<td class="col-md-3">{{patients.clinicName}}</td>
						<td class="col-md-3"><b>Unit Number</b></td>
						<td class="col-md-3">{{patients.unitNumber}}</td>
						</tr>
						<tr>
						<td class="col-md-3"><b>Doctor Name</b></td>
						<td class="col-md-3">{{patients.doctorName}}</td>
						</tr>
	 				</table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
         </div>
    </div>
  </div>
</div>
<script>
$('#datetimepicker8').datetimepicker(
		{
			pickTime : false,
			format:'YYYY-MM-DD',
			defaultDate:new Date()
			
		});
$('#yearpicker').datetimepicker(
		{
			pickTime : false,
			format:'YYYY',
			viewMode: "years", 
		    minViewMode: "years"
			
		});
</script>    
